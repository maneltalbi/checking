<script src="~/scripts/jquery-3.2.1.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBlLuwEC9YvVCHAgHOCv-eNf64TBuLQRJg&callback=initMap&v=weekly"
        async></script>
<style>
    /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
    #map {
        height: 600px;
        width: 100%;
    }
</style>
<div class="span10">
    <div id="map"></div>

</div>

<script>
    var map;

                function initMap() {
            map = new google.maps.Map(document.getElementById("map"), {
                center: { lat: 35.829300, lng: 10.640630 },
                zoom: 12,
            });
            $.get("@Url.Action("GetAllLocation", "Incidents")", function (data, status) {
                var marker = [];
                var contentString = [];
                var infowindow = [];
                for (var i = 0; i < data.length; i++) {
                    marker[i] = new google.maps.Marker({
                        position: { lat: parseFloat(data[i].Lat), lng: parseFloat(data[i].Long) },
                        map: map
                    });

                    contentString[i] =
                        '<div id="content">' +
                        '<div id="siteNotice">' +
                        "</div>" +
                        '<h1 id="firstHeading" class="firstHeading">' + data[i].Address + '</h1>' +
                        '<div id="bodyContent">' +
                        '<p><b>' + data[i].Address + '</b>, also referred to as <b>Ayers Rock</b>, is a large ' +
                        "sandstone rock formation in the southern part of the " +
                        "Northern Territory, central Australia. It lies 335&#160;km (208&#160;mi) " +
                        "south west of the nearest large town, Alice Springs; 450&#160;km ";
                    infowindow[i] = new google.maps.InfoWindow({
                        content: contentString[i],
                    });
                    var markerValue = marker[i];
                    google.maps.event.addListener(marker[i], 'mouseover', (function (markerValue, i) {
                        return function () {
                            infowindow[i].open(map, marker[i]);
                        }
                    })(marker[i], i));
                    google.maps.event.addListener(marker[i], 'mouseout', (function (markerValue, i) {
                        return function () {
                            infowindow[i].close();
                        }
                    })(marker[i], i));
                }

            })

        }


</script>
